@font-face {
	font-family: 'Delius Swash Caps';
	src: url('../assets/fonts/DeliusSwashCaps-Regular.ttf') format('truetype');
	font-weight: 400;
	font-style: normal;
	font-display: swap;
}
html, body { margin:0; padding:0; height:100%; background:linear-gradient(180deg, #fff6fb 0%, #ffe9f0 45%, #ffe2e9 100%); color:#3a2a2f; font-family:'Delius Swash Caps', 'Outfit', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; overflow:hidden; }
* { box-sizing: border-box; }
.app, html, body { cursor: url('/assets/image/cursor.png') 8 2, auto; }
canvas#bg, .mirror, .controls, .btn, button, input, textarea, select {
	cursor: url('/assets/image/cursor.png') 8 2, auto;
}
.hidden { display:none !important; }
.app { position:relative; width:100%; height:100%; display:flex; align-items:center; justify-content:center; }
canvas#bg { position:absolute; inset:0; width:100%; height:100%; display:block; }
.portal { position:absolute; inset:0; pointer-events:none; }
.center { position:relative; z-index:3; display:flex; flex-direction:column; align-items:center; gap:16px; padding: 16px 12px 28px; }
.mirror {
	position:relative;
	width:min(86vw, 56vh);
	aspect-ratio: 3/4;
	border-radius:28px;
	padding:10px;
	background:linear-gradient(180deg, rgba(255,255,255,0.72), rgba(255,255,255,0.42));
	/* borda definida removida para um contorno difuso */
	border:0;
	box-shadow:
		/* brilho e dispersão brancos – borda “enfumaçada” sem contorno */
		0 16px 50px rgba(255, 140, 180, 0.20),
		0 0 60px 24px rgba(255,255,255,0.45),
		0 0 120px 48px rgba(255,255,255,0.28),
		0 0 220px 90px rgba(255,255,255,0.18),
		inset 0 0 40px rgba(255,255,255,0.28),
		inset 0 0 85px rgba(255,255,255,0.22);
	backdrop-filter: blur(8px) saturate(125%);
}
.mirror::before{
	content:'';
	position:absolute; inset:-12px;
	border-radius:28px;
	pointer-events:none;
	/* halo esfumaçado ao redor do espelho – branco difuso */
	background: radial-gradient(closest-side,
		rgba(255,255,255,0.32),
		rgba(255,255,255,0.18) 45%,
		rgba(255,255,255,0.10) 70%,
		rgba(255,255,255,0) 92%);
	filter: blur(14px);
}
.mirror::after {
	content:'';
	position:absolute; inset:0; border-radius:28px;
	box-shadow:
		/* traços internos leitosos mais difusos – sem linha definida */
		inset 0 0 25px rgba(255,255,255,0.55),
		inset 0 0 80px rgba(255,255,255,0.32);
	pointer-events:none;
}
.mirror-inner {
	position:absolute; inset:10px;
	border-radius:22px;
	overflow:hidden;
	background:radial-gradient(100% 60% at 50% 50%, rgba(255,255,255,0.55), rgba(255,255,255,0.15));
	border:1px solid rgba(255,255,255,0.6);
}
/* estados do espelho */
.mirror.closed .mirror-inner { opacity: 0; filter: blur(10px) brightness(0.95); }
.mirror.opening .mirror-inner { animation: portalOpen 0.6s ease forwards; }
@keyframes portalOpen {
	from { opacity: 0; transform: scale(0.96); filter: blur(12px) brightness(0.9); }
	to { opacity: 1; transform: scale(1); filter: blur(0) brightness(1); }
}
#cam {
	position:absolute; inset:0; width:100%; height:100%; object-fit:cover; transform: scaleX(-1);
	filter: contrast(1.02) saturate(1.05) brightness(1.02);
}
#cam.hidden { display:none !important; }
#mirror-overlay {
	position:absolute; inset:0; pointer-events:none;
	background: radial-gradient(60% 40% at 50% 30%, rgba(255, 210, 230, 0.22), rgba(255, 180, 210, 0.12) 60%, transparent 75%);
}
.mirror.blur #cam { filter: blur(8px) brightness(0.9) saturate(0.9); }
#result-img {
	position:absolute; inset:0; width:100%; height:100%; object-fit:cover;
	transform: scaleX(-1);
}
.controls { display:flex; gap:12px; align-items:center; justify-content:center; flex-wrap:wrap; padding-top: 6px; }
.btn {
	display:inline-flex; align-items:center; justify-content:center; gap:8px;
	padding:12px 18px; border-radius:16px; border:1px solid rgba(255, 170, 190, 0.55);
	background: rgba(255,255,255,0.8); color:#6a3b4f; cursor:pointer;
	box-shadow: 0 6px 14px rgba(255, 150, 180, 0.20);
	transition:
		transform 0.22s cubic-bezier(0.22, 0.61, 0.36, 1),
		box-shadow 0.22s cubic-bezier(0.22, 0.61, 0.36, 1),
		filter 0.22s linear,
		background 0.22s ease-out;
	cursor: url('/assets/image/cursor.png') 8 2, pointer;
}
.btn[disabled] { opacity:0.6; cursor:not-allowed; }
.btn-primary { border-color: rgba(255, 120, 160, 0.75); background: linear-gradient(180deg, rgba(255,170,200,0.85), rgba(255,150,190,0.75)); color:#592d42; }
.btn:hover {
	transform: translateY(-1px) scale(1.015);
	box-shadow:
		0 10px 20px rgba(255, 150, 190, 0.3),
		0 0 18px rgba(255, 220, 240, 0.6);
	filter: brightness(1.04);
}
.btn:active {
	transform: translateY(0) scale(0.985);
	box-shadow: 0 5px 12px rgba(255, 150, 190, 0.25);
	filter: brightness(0.99);
}
.btn-primary:hover {
	background: linear-gradient(180deg, rgba(255,180,210,0.95), rgba(255,150,190,0.90));
}
.hint { font-size:13px; opacity:0.85; text-align:center; color:#6b4a58; }
.badge { font-size:12px; opacity:0.85; padding:6px 10px; border-radius:999px; border:1px solid rgba(255,170,190,0.45); background:rgba(255,255,255,0.8); color:#74485a; }
.header, .footer { display:none; }
/* ícone mic */
.icon { width:18px; height:18px; display:inline-block; }
/* Botão de microfone como ícone circular */
#btn-mic {
	width:56px; height:56px; padding:0;
	border-radius:50%;
	display:flex; align-items:center; justify-content:center;
	border:1px solid rgba(255, 140, 170, 0.9);
	background: radial-gradient(circle at 30% 20%, rgba(255,255,255,0.95), rgba(255,160,190,0.9));
	box-shadow:
		0 8px 20px rgba(255, 120, 160, 0.28),
		0 0 18px rgba(255, 200, 230, 0.8);
	transition:
		transform 0.25s cubic-bezier(0.22, 0.61, 0.36, 1),
		box-shadow 0.25s cubic-bezier(0.22, 0.61, 0.36, 1),
		background 0.25s ease-out;
}
#btn-mic .icon { width:22px; height:22px; }
/* ícone X escondido por padrão; aparece só quando estiver gravando */
#btn-mic .icon-x { display:none; }
#btn-mic.recording .icon-mic { display:none; }
#btn-mic.recording .icon-x { display:inline-block; }
#btn-mic:hover {
	transform: translateY(-1px) scale(1.04);
	box-shadow:
		0 10px 24px rgba(255, 130, 170, 0.36),
		0 0 22px rgba(255, 220, 240, 0.95);
}
#btn-mic:active {
	transform: translateY(0) scale(0.97);
	box-shadow: 0 4px 12px rgba(255, 130, 170, 0.3);
}
@keyframes micPulse {
	0%   { box-shadow: 0 0 16px rgba(255, 120, 160, 0.40), 0 0 30px rgba(255, 190, 220, 0.55); transform: scale(1); }
	50%  { box-shadow: 0 0 26px rgba(255, 120, 160, 0.75), 0 0 50px rgba(255, 210, 235, 0.85); transform: scale(1.03); }
	100% { box-shadow: 0 0 16px rgba(255, 120, 160, 0.40), 0 0 30px rgba(255, 190, 220, 0.55); transform: scale(1); }
}
#btn-mic.recording {
	background: radial-gradient(circle at 30% 20%, rgba(255,240,245,0.98), rgba(255,110,150,0.95));
	animation: micPulse 1.1s ease-in-out infinite;
}
/* mensagens/estado */
.state { min-height: 20px; text-align:center; font-size:14px; opacity:0.95; color:#5a3c49; }

